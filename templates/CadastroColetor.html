<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Cadastro de Coletor</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />

  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
    }

    tbody > tr:nth-child(odd) {
      background-color: #cfd8dd;
    }

    .botao-adicionar { background-color: #072749; }
    .botao-salvar { background-color: #ff9900; }
    .botao-voltar { background-color: #6c757d; }
    .botao-editar { background-color: #1fa53c; }
    .botao-excluir { background-color: #be0d0d; }

    .botao-adicionar, .botao-salvar, .botao-voltar, .botao-editar, .botao-excluir {
      font-size: 18px;
      color: white;
      border-radius: 8px;
      box-shadow: 0 5px 15px rgba(0,0,0,0.2);
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
      border: none;
      padding: 6px 20px;
      cursor: pointer;
      margin-right: 10px;
      display: inline-flex;
      align-items: center;
      gap: 6px;
    }

    .botao-adicionar:hover { background-color: #0056b3; }
    .botao-salvar:hover { background-color: #ffa733; }
    .botao-voltar:hover { background-color: #5a6268; }
    .botao-editar:hover { background-color: #128d2e; }
    .botao-excluir:hover { background-color: #ec5050; }

    .botao-adicionar::after, .botao-salvar::after, .botao-voltar::after,
    .botao-editar::after, .botao-excluir::after {
      content: "";
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: rgba(255, 255, 255, 0.2);
      transform: skewX(-20deg);
      transition: left 0.5s ease;
    }

    .botao-adicionar:hover::after,
    .botao-salvar:hover::after,
    .botao-voltar:hover::after,
    .botao-editar:hover::after,
    .botao-excluir:hover::after {
      left: 100%;
    }

    .form-label {
      font-weight: bold;
    }

    input[readonly] {
      background-color: #f1f1f1;
    }
  </style>
</head>
<body>

  <div class="container">
    <h2 class="mb-4">Cadastro de Coletor</h2>

    <form id="formColetor" onsubmit="return false;">
      <div class="row g-3 align-items-end">
        <div class="col-md-4">
          <label for="nome" class="form-label">Nome</label>
          <input type="text" id="nome" class="form-control" />
        </div>

        <div class="col-md-4">
          <label for="area" class="form-label">√Årea</label>
          <select id="area" name="area" class="form-select">
            <option value=""></option>
            <option value="√Årea 1">√Årea 1</option>
            <option value="√Årea 2">√Årea 2</option>
          </select>
        </div>

        <div class="col-md-4">
          <label for="login" class="form-label">Login</label>
          <input type="text" id="login" class="form-control" />
        </div>

        <div class="col-md-4">
          <label for="senha" class="form-label">Senha</label>
          <input type="text" id="senha" class="form-control" />
        </div>

        <div class="col-md-4">
          <label for="AtivarColetor" class="form-label">Ativar</label>
          <select id="AtivarColetor" class="form-select">
            <option value=""></option>
            <option value="sim">Sim</option>
            <option value="nao">N√£o</option>
          </select>
        </div>

        <div class="col-md-4">
          <label for="buscaNome" class="form-label">Buscar por Nome</label>
          <input type="text" id="buscaNome" class="form-control" placeholder="Digite o nome para buscar" />
        </div>
      </div>

      <div class="my-4">
        <button class="botao-adicionar" type="button" onclick="adicionarLinha()">‚ûï Adicionar</button>
        <button class="botao-salvar" type="button" onclick="salvarTabela()">üíæ Salvar</button>
      </div>
    </form>

    <table class="table table-bordered table-striped">
      <thead class="table-primary">
        <tr>
          <th>Coletor</th>
          <th>√Årea</th>
          <th>Login</th>
          <th>Senha</th>
          <th>Ativar</th>
          <th>A√ß√µes</th>
        </tr>
      </thead>
      <tbody id="tabela">
        <!-- Linhas adicionadas dinamicamente -->
      </tbody>
    </table>
  </div>

  <script>
    function adicionarLinha() {
      const nome = document.getElementById('nome').value.trim();
      const area = document.getElementById('area').value.trim();
      const login = document.getElementById('login').value.trim();
      const senha = document.getElementById('senha').value.trim();
      const ativar = document.getElementById('AtivarColetor').value.trim();

      if (!nome || !area || !login || !senha || !ativar) {
        alert('Preencha todos os campos!');
        return;
      }

      const tabela = document.getElementById('tabela');
      const novaLinha = tabela.insertRow();

      novaLinha.insertCell(0).textContent = nome;
      novaLinha.insertCell(1).textContent = area;
      novaLinha.insertCell(2).textContent = login;
      novaLinha.insertCell(3).textContent = senha;
      novaLinha.insertCell(4).textContent = ativar;

      const celulaAcoes = novaLinha.insertCell(5);
      celulaAcoes.innerHTML = `
        <button class="botao-editar btn btn-sm me-2" type="button" onclick="editarLinha(this)">‚úèÔ∏è Editar</button>
        <button class="botao-excluir btn btn-sm" type="button" onclick="excluirLinha(this)">üóë Excluir</button>
      `;

      limparCampos();
    }

    function limparCampos() {
      document.getElementById('nome').value = '';
      document.getElementById('area').value = '';
      document.getElementById('login').value = '';
      document.getElementById('senha').value = '';
      document.getElementById('AtivarColetor').value = '';
      document.getElementById('buscaNome').value = '';
    }

    function buscarColetor() {
      const termo = document.getElementById("buscaNome").value.toLowerCase();
      const linhas = document.querySelectorAll("#tabela tr");

      let encontrado = false;

      linhas.forEach(linha => {
        const nome = linha.cells[0].textContent.toLowerCase();
        if (nome.includes(termo)) {
          document.getElementById("nome").value = linha.cells[0].textContent;
          document.getElementById("area").value = linha.cells[1].textContent;
          document.getElementById("login").value = linha.cells[2].textContent;
          document.getElementById("senha").value = linha.cells[3].textContent;
          document.getElementById("AtivarColetor").value = linha.cells[4].textContent;
          encontrado = true;
        }
      });

      if (!encontrado && termo !== '') {
        alert("Coletor n√£o encontrado.");
      }
    }

    document.getElementById('buscaNome').addEventListener('input', buscarColetor);

    function editarLinha(botao) {
      const linha = botao.closest('tr');
      const cells = linha.cells;

      document.getElementById('nome').value = cells[0].textContent;
      document.getElementById('area').value = cells[1].textContent;
      document.getElementById('login').value = cells[2].textContent;
      document.getElementById('senha').value = cells[3].textContent;
      document.getElementById('AtivarColetor').value = cells[4].textContent;

      // Opcional: Remove a linha para evitar duplica√ß√£o quando salvar
      linha.remove();
    }

    function excluirLinha(botao) {
      const linha = botao.closest('tr');
      linha.remove();
      limparCampos();
    }

    function salvarTabela() {
      const linhas = [];
      document.querySelectorAll('#tabela tr').forEach(tr => {
        linhas.push({
          nome: tr.cells[0].textContent,
          area: tr.cells[1].textContent,
          login: tr.cells[2].textContent,
          senha: tr.cells[3].textContent,
          ativar: tr.cells[4].textContent,
        });
      });

      console.log('Dados para salvar:', linhas);
      alert('Fun√ß√£o de salvamento ainda n√£o implementada.');
    }
  </script>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>